<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Tracker Codebase Guide</title>
    <style>
        :root {
            --bg: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --border: #30363d;
            --text: #c9d1d9;
            --text-muted: #8b949e;
            --accent: #58a6ff;
            --green: #3fb950;
            --yellow: #d29922;
            --red: #f85149;
            --purple: #a371f7;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
            padding: 0;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 8px;
            color: var(--accent);
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 1.2rem;
            margin-bottom: 40px;
        }

        h2 {
            font-size: 1.8rem;
            margin-top: 60px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
            color: var(--accent);
        }

        h3 {
            font-size: 1.4rem;
            margin-top: 40px;
            margin-bottom: 16px;
            color: var(--text);
        }

        h4 {
            font-size: 1.1rem;
            margin-top: 24px;
            margin-bottom: 12px;
            color: var(--purple);
        }

        p {
            margin-bottom: 16px;
        }

        code {
            background: var(--bg-tertiary);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 0.9em;
            color: var(--yellow);
        }

        pre {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 0.85rem;
            line-height: 1.5;
        }

        pre code {
            background: none;
            padding: 0;
            color: var(--text);
        }

        .comment { color: var(--text-muted); }
        .keyword { color: var(--purple); }
        .string { color: var(--green); }
        .function { color: var(--accent); }
        .decorator { color: var(--yellow); }
        .number { color: var(--yellow); }

        .callout {
            background: var(--bg-secondary);
            border-left: 4px solid var(--accent);
            padding: 16px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .callout.warning {
            border-left-color: var(--yellow);
        }

        .callout.success {
            border-left-color: var(--green);
        }

        .callout-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--accent);
        }

        .callout.warning .callout-title { color: var(--yellow); }
        .callout.success .callout-title { color: var(--green); }

        ul, ol {
            margin: 16px 0;
            padding-left: 24px;
        }

        li {
            margin-bottom: 8px;
        }

        .diagram {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }

        .diagram pre {
            background: none;
            border: none;
            padding: 0;
            margin: 0;
            text-align: left;
            display: inline-block;
        }

        .file-tree {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.85rem;
        }

        .file-tree .folder { color: var(--accent); }
        .file-tree .file { color: var(--text); }
        .file-tree .desc { color: var(--text-muted); font-style: italic; }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            border: 1px solid var(--border);
            padding: 12px;
            text-align: left;
        }

        th {
            background: var(--bg-secondary);
            color: var(--accent);
        }

        tr:nth-child(even) {
            background: var(--bg-secondary);
        }

        .toc {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 24px;
            margin: 30px 0;
        }

        .toc h3 {
            margin-top: 0;
            color: var(--accent);
        }

        .toc ol {
            margin-bottom: 0;
        }

        .toc a {
            color: var(--text);
            text-decoration: none;
        }

        .toc a:hover {
            color: var(--accent);
        }

        a {
            color: var(--accent);
        }

        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            padding: 12px 20px;
            z-index: 100;
        }

        .nav-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-title {
            font-weight: 600;
            color: var(--accent);
        }

        .content {
            margin-top: 60px;
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-python { background: rgba(163, 113, 247, 0.2); color: var(--purple); }
        .badge-js { background: rgba(210, 153, 34, 0.2); color: var(--yellow); }
        .badge-sql { background: rgba(88, 166, 255, 0.2); color: var(--accent); }
        .badge-html { background: rgba(248, 81, 73, 0.2); color: var(--red); }
    </style>
</head>
<body>
    <nav class="nav">
        <div class="nav-content">
            <span class="nav-title">Book Tracker Codebase Guide</span>
            <span style="color: var(--text-muted);">For Engineers New to Web Development</span>
        </div>
    </nav>

    <div class="container content">
        <h1>Book Tracker Codebase Guide</h1>
        <p class="subtitle">A complete walkthrough for engineers who know Python but are new to web applications</p>

        <div class="toc">
            <h3>Table of Contents</h3>
            <ol>
                <li><a href="#big-picture">The Big Picture: How Web Apps Work</a></li>
                <li><a href="#architecture">Our Architecture: Flask + Vanilla JS + SQLite</a></li>
                <li><a href="#project-structure">Project Structure</a></li>
                <li><a href="#database">The Database Layer (SQLite)</a></li>
                <li><a href="#backend">The Backend (Flask/Python)</a></li>
                <li><a href="#frontend">The Frontend (HTML/CSS/JavaScript)</a></li>
                <li><a href="#data-flow">Data Flow: A Complete Example</a></li>
                <li><a href="#authentication">Authentication System</a></li>
                <li><a href="#troubleshooting">Troubleshooting Guide</a></li>
                <li><a href="#glossary">Glossary</a></li>
            </ol>
        </div>

        <!-- SECTION 1: BIG PICTURE -->
        <h2 id="big-picture">1. The Big Picture: How Web Apps Work</h2>

        <p>Before diving into our code, let's understand what happens when you use a web application. This is fundamentally different from running a Python script on your computer.</p>

        <h3>The Client-Server Model</h3>

        <p>When you run a Python script locally, everything happens on your machine. Web apps split the work between two places:</p>

        <div class="diagram">
            <pre>
┌─────────────────────┐                    ┌─────────────────────┐
│                     │                    │                     │
│   YOUR BROWSER      │  ───── HTTP ─────▶ │   THE SERVER        │
│   (The "Client")    │                    │   (Flask app)       │
│                     │  ◀──── JSON ────── │                     │
│   - HTML/CSS/JS     │                    │   - Python code     │
│   - What you see    │                    │   - Database        │
│   - Runs on YOUR    │                    │   - Runs on a       │
│     computer        │                    │     remote machine  │
│                     │                    │                     │
└─────────────────────┘                    └─────────────────────┘
            </pre>
        </div>

        <ul>
            <li><strong>Client (Browser):</strong> Downloads HTML, CSS, and JavaScript files. Runs the JS code. Displays the interface you see.</li>
            <li><strong>Server (Flask):</strong> Stores data. Runs Python code. Responds to requests from the browser.</li>
        </ul>

        <h3>What is HTTP?</h3>

        <p>HTTP is the "language" browsers and servers speak. It's just text messages sent over the internet. Every time you click something in a web app, your browser sends an HTTP request. The server sends back an HTTP response.</p>

        <pre><code><span class="comment"># A simplified HTTP request (what your browser sends)</span>
GET /api/books HTTP/1.1
Host: localhost:5001

<span class="comment"># A simplified HTTP response (what the server sends back)</span>
HTTP/1.1 200 OK
Content-Type: application/json

{"books": [{"title": "Dune", "author": "Frank Herbert"}, ...]}</code></pre>

        <p>There are different "verbs" or "methods" in HTTP:</p>

        <table>
            <tr>
                <th>Method</th>
                <th>Purpose</th>
                <th>Example</th>
            </tr>
            <tr>
                <td><code>GET</code></td>
                <td>Retrieve data</td>
                <td>Get list of books</td>
            </tr>
            <tr>
                <td><code>POST</code></td>
                <td>Create something new</td>
                <td>Add a new book</td>
            </tr>
            <tr>
                <td><code>PATCH</code></td>
                <td>Update part of something</td>
                <td>Update book progress</td>
            </tr>
            <tr>
                <td><code>DELETE</code></td>
                <td>Remove something</td>
                <td>Delete a learning path</td>
            </tr>
        </table>

        <h3>What is an API?</h3>

        <p>API stands for "Application Programming Interface." In our context, it's the set of URLs the server responds to. Think of it as a menu at a restaurant—it tells the browser what it can ask for.</p>

        <pre><code><span class="comment"># Our API "menu"</span>
GET  /api/books          → Get all books
GET  /api/books/42       → Get book with ID 42
POST /api/books          → Create a new book
PATCH /api/books/42      → Update book 42
GET  /api/paths          → Get all learning paths
...</code></pre>

        <h3>What is JSON?</h3>

        <p>JSON (JavaScript Object Notation) is how we send structured data between browser and server. It looks like Python dictionaries:</p>

        <pre><code>{
    "title": "Dune",
    "author": "Frank Herbert",
    "page_count": 412,
    "status": "reading",
    "tags": ["sci-fi", "classic"]
}</code></pre>

        <div class="callout success">
            <div class="callout-title">Key Insight</div>
            <p>The server doesn't "know" what the user is looking at. It just responds to requests. The browser (client) is responsible for updating what the user sees based on the server's responses.</p>
        </div>

        <!-- SECTION 2: ARCHITECTURE -->
        <h2 id="architecture">2. Our Architecture: Flask + Vanilla JS + SQLite</h2>

        <p>Book Tracker is a "Single Page Application" (SPA) with three main components:</p>

        <div class="diagram">
            <pre>
┌──────────────────────────────────────────────────────────────────┐
│                         BROWSER                                   │
│  ┌────────────────────────────────────────────────────────────┐  │
│  │  index.html (loaded once)                                  │  │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────────┐  │  │
│  │  │  styles.css  │  │    app.js    │  │  views/*.js      │  │  │
│  │  │  (styling)   │  │  (main app)  │  │  (view renderers)│  │  │
│  │  └──────────────┘  └──────────────┘  └──────────────────┘  │  │
│  └────────────────────────────────────────────────────────────┘  │
└──────────────────────────────────────────────────────────────────┘
                                │
                                │ HTTP requests (fetch API)
                                ▼
┌──────────────────────────────────────────────────────────────────┐
│                         SERVER                                    │
│  ┌────────────────────────────────────────────────────────────┐  │
│  │  app.py (Flask)                                            │  │
│  │  - Route handlers (@app.route)                             │  │
│  │  - Database queries                                        │  │
│  │  - Authentication                                          │  │
│  └────────────────────────────────────────────────────────────┘  │
│                                │                                  │
│                                ▼                                  │
│  ┌────────────────────────────────────────────────────────────┐  │
│  │  books.db (SQLite)                                         │  │
│  │  - books table                                             │  │
│  │  - user_books table                                        │  │
│  │  - learning_paths table                                    │  │
│  │  - etc.                                                    │  │
│  └────────────────────────────────────────────────────────────┘  │
└──────────────────────────────────────────────────────────────────┘
            </pre>
        </div>

        <h3>Why These Technologies?</h3>

        <table>
            <tr>
                <th>Technology</th>
                <th>What It Does</th>
                <th>Why We Chose It</th>
            </tr>
            <tr>
                <td><span class="badge badge-python">Flask</span></td>
                <td>Python web framework</td>
                <td>Simple, minimal, great for learning. Just ~1000 lines of code for our whole backend.</td>
            </tr>
            <tr>
                <td><span class="badge badge-js">Vanilla JS</span></td>
                <td>Frontend code</td>
                <td>No frameworks to learn. What you see is what runs in the browser.</td>
            </tr>
            <tr>
                <td><span class="badge badge-sql">SQLite</span></td>
                <td>Database</td>
                <td>Just a file. No server to run. Perfect for personal apps.</td>
            </tr>
        </table>

        <h3>What is a "Single Page Application"?</h3>

        <p>Traditional websites load a new HTML page every time you click a link. SPAs load one HTML page, then JavaScript updates the content without reloading. This makes the app feel faster and more app-like.</p>

        <pre><code><span class="comment">// Traditional: browser loads new page</span>
Click "Dashboard" → Browser requests /dashboard.html → Full page reload

<span class="comment">// SPA: JavaScript updates the page</span>
Click "Dashboard" → JS hides current view, shows dashboard → No reload</code></pre>

        <!-- SECTION 3: PROJECT STRUCTURE -->
        <h2 id="project-structure">3. Project Structure</h2>

        <div class="file-tree">
<span class="folder">book-tracker/</span>
├── <span class="folder">backend/</span>                    <span class="desc"># All server-side code</span>
│   ├── <span class="file">app.py</span>                 <span class="desc"># The Flask application (main file!)</span>
│   ├── <span class="file">schema.sql</span>            <span class="desc"># Database table definitions</span>
│   ├── <span class="file">migrate_v1.py</span>         <span class="desc"># Adds new columns to existing DB</span>
│   ├── <span class="file">requirements.txt</span>      <span class="desc"># Python dependencies</span>
│   └── <span class="file">books.db</span>              <span class="desc"># SQLite database file (created at runtime)</span>
│
├── <span class="folder">frontend/</span>                   <span class="desc"># All client-side code</span>
│   ├── <span class="file">index.html</span>            <span class="desc"># The one HTML page</span>
│   ├── <span class="file">styles.css</span>            <span class="desc"># All styling</span>
│   ├── <span class="file">app.js</span>                <span class="desc"># Main JS: routing, API calls, state</span>
│   └── <span class="folder">views/</span>                 <span class="desc"># One file per "page"</span>
│       ├── <span class="file">dashboard.js</span>      <span class="desc"># Dashboard view renderer</span>
│       ├── <span class="file">pipeline.js</span>       <span class="desc"># Kanban board view</span>
│       ├── <span class="file">paths.js</span>          <span class="desc"># Learning paths view</span>
│       └── <span class="file">library.js</span>        <span class="desc"># All books grid view</span>
│
├── <span class="file">Dockerfile</span>                  <span class="desc"># Container definition for deployment</span>
└── <span class="file">railway.json</span>                <span class="desc"># Railway.app deployment config</span>
        </div>

        <div class="callout">
            <div class="callout-title">Reading Order Suggestion</div>
            <p>When exploring the code, I recommend this order:</p>
            <ol>
                <li><code>schema.sql</code> - Understand the data model first</li>
                <li><code>app.py</code> - See how the API works</li>
                <li><code>index.html</code> - The page structure</li>
                <li><code>app.js</code> - How the frontend manages state and routing</li>
                <li><code>views/dashboard.js</code> - One example view</li>
            </ol>
        </div>

        <!-- SECTION 4: DATABASE -->
        <h2 id="database">4. The Database Layer (SQLite)</h2>

        <p>SQLite is a database that stores everything in a single file (<code>books.db</code>). No separate server needed. You can open it with any SQLite tool.</p>

        <h3>Our Tables</h3>

        <p>Think of tables like spreadsheets. Each row is a record, each column is a field.</p>

        <div class="diagram">
            <pre>
┌─────────────────────────────────────────────────────────────────────┐
│                           DATA MODEL                                 │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│   ┌──────────────┐         ┌──────────────┐                         │
│   │    books     │         │  user_books  │                         │
│   ├──────────────┤    1:1  ├──────────────┤                         │
│   │ id           │◄────────│ book_id      │                         │
│   │ title        │         │ status       │                         │
│   │ author       │         │ my_rating    │                         │
│   │ page_count   │         │ current_page │                         │
│   │ cover_url    │         │ owns_kindle  │                         │
│   │ ...          │         │ ...          │                         │
│   └──────────────┘         └──────────────┘                         │
│         │                        │                                   │
│         │                        │                                   │
│         │ (source_book_id)       │ (user_book_id)                   │
│         ▼                        ▼                                   │
│   ┌──────────────┐         ┌──────────────────────┐                 │
│   │ (self-ref)   │         │ learning_path_books  │                 │
│   │ "sparked     │         ├──────────────────────┤                 │
│   │  from"       │         │ learning_path_id     │                 │
│   └──────────────┘         │ user_book_id         │                 │
│                            │ position             │                 │
│                            └──────────────────────┘                 │
│                                    │                                 │
│                                    │                                 │
│                                    ▼                                 │
│                            ┌──────────────────────┐                 │
│                            │   learning_paths     │                 │
│                            ├──────────────────────┤                 │
│                            │ id                   │                 │
│                            │ name                 │                 │
│                            │ objective            │                 │
│                            │ color                │                 │
│                            └──────────────────────┘                 │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
            </pre>
        </div>

        <h4>Why Two Tables for Books?</h4>

        <p>We split book data into <code>books</code> (the book itself) and <code>user_books</code> (your relationship with it):</p>

        <ul>
            <li><strong>books:</strong> Title, author, page count, ISBN. This is reference data that doesn't change.</li>
            <li><strong>user_books:</strong> Your status (reading, finished), your rating, current page. This is YOUR data about the book.</li>
        </ul>

        <p>This separation means if we ever add multiple users, they can each have their own relationship with the same book.</p>

        <h3>The library_view View</h3>

        <p>A SQL "view" is like a saved query. Instead of joining tables every time, we created <code>library_view</code> that combines book + user_book data:</p>

        <pre><code><span class="comment">-- This view is defined in schema.sql</span>
<span class="keyword">CREATE VIEW</span> library_view <span class="keyword">AS</span>
<span class="keyword">SELECT</span>
    b.id <span class="keyword">as</span> book_id,
    b.title,
    b.author,
    b.page_count,
    ub.status,
    ub.my_rating,
    ub.current_page,
    ub.progress_percent,
    <span class="comment">-- ... more fields</span>
<span class="keyword">FROM</span> books b
<span class="keyword">JOIN</span> user_books ub <span class="keyword">ON</span> b.id = ub.book_id;</code></pre>

        <p>Now we can query <code>library_view</code> instead of writing complex joins every time:</p>

        <pre><code><span class="comment"># In Python, we just query the view</span>
cursor = db.execute(<span class="string">'SELECT * FROM library_view WHERE status = ?'</span>, (<span class="string">'reading'</span>,))</code></pre>

        <h3>Common Database Operations</h3>

        <pre><code><span class="comment"># Open the database with sqlite3 command</span>
$ sqlite3 backend/books.db

<span class="comment"># See all tables</span>
sqlite> .tables

<span class="comment"># See table structure</span>
sqlite> .schema user_books

<span class="comment"># Query some data</span>
sqlite> SELECT title, status FROM library_view LIMIT 5;

<span class="comment"># Exit</span>
sqlite> .quit</code></pre>

        <!-- SECTION 5: BACKEND -->
        <h2 id="backend">5. The Backend (Flask/Python)</h2>

        <p>The entire backend is in <code>backend/app.py</code>. Let's break it down piece by piece.</p>

        <h3>Flask Basics</h3>

        <p>Flask is a "micro-framework." It does one thing: route HTTP requests to Python functions. That's it.</p>

        <pre><code><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, jsonify, request

app = Flask(__name__)

<span class="decorator">@app.route</span>(<span class="string">'/api/hello'</span>)
<span class="keyword">def</span> <span class="function">hello</span>():
    <span class="keyword">return</span> jsonify({<span class="string">'message'</span>: <span class="string">'Hello, World!'</span>})

<span class="comment"># Run with: python app.py</span>
<span class="comment"># Then visit: http://localhost:5001/api/hello</span></code></pre>

        <p>The <code>@app.route</code> decorator connects a URL to a function. When someone visits that URL, Flask calls your function and sends back whatever it returns.</p>

        <h3>Route Parameters</h3>

        <p>You can capture parts of the URL as parameters:</p>

        <pre><code><span class="decorator">@app.route</span>(<span class="string">'/api/books/&lt;int:book_id&gt;'</span>)
<span class="keyword">def</span> <span class="function">get_book</span>(book_id):
    <span class="comment"># book_id is now available as an integer</span>
    <span class="comment"># /api/books/42 → book_id = 42</span>
    <span class="keyword">return</span> jsonify({<span class="string">'book_id'</span>: book_id})</code></pre>

        <h3>HTTP Methods</h3>

        <p>By default, routes only respond to GET. Specify methods to handle POST, PATCH, etc:</p>

        <pre><code><span class="decorator">@app.route</span>(<span class="string">'/api/books'</span>, methods=[<span class="string">'GET'</span>])
<span class="keyword">def</span> <span class="function">get_books</span>():
    <span class="comment"># Handle GET /api/books</span>
    ...

<span class="decorator">@app.route</span>(<span class="string">'/api/books'</span>, methods=[<span class="string">'POST'</span>])
<span class="keyword">def</span> <span class="function">create_book</span>():
    <span class="comment"># Handle POST /api/books</span>
    data = request.get_json()  <span class="comment"># Get JSON body from request</span>
    ...</code></pre>

        <h3>Database Connection Pattern</h3>

        <p>We use Flask's <code>g</code> object to store the database connection for each request:</p>

        <pre><code><span class="keyword">from</span> flask <span class="keyword">import</span> g

<span class="keyword">def</span> <span class="function">get_db</span>():
    <span class="string">"""Get database connection for current request."""</span>
    <span class="keyword">if</span> <span class="string">'db'</span> <span class="keyword">not in</span> g:
        g.db = sqlite3.connect(DATABASE)
        g.db.row_factory = sqlite3.Row  <span class="comment"># Returns dict-like rows</span>
    <span class="keyword">return</span> g.db

<span class="decorator">@app.teardown_appcontext</span>
<span class="keyword">def</span> <span class="function">close_db</span>(exception):
    <span class="string">"""Close database connection at end of request."""</span>
    db = g.pop(<span class="string">'db'</span>, <span class="keyword">None</span>)
    <span class="keyword">if</span> db <span class="keyword">is not None</span>:
        db.close()</code></pre>

        <div class="callout">
            <div class="callout-title">Why This Pattern?</div>
            <p><code>g</code> is Flask's "request context" object. It's unique to each request, so different users don't share database connections. The <code>teardown_appcontext</code> decorator ensures we always close the connection, even if an error occurs.</p>
        </div>

        <h3>A Real Route: GET /api/books</h3>

        <p>Let's walk through how the books list endpoint works:</p>

        <pre><code><span class="decorator">@app.route</span>(<span class="string">'/api/books'</span>, methods=[<span class="string">'GET'</span>])
<span class="decorator">@require_auth</span>  <span class="comment"># Our auth decorator (explained later)</span>
<span class="keyword">def</span> <span class="function">get_books</span>():
    db = get_db()

    <span class="comment"># Get query parameters from URL: /api/books?status=reading&page=1</span>
    status = request.args.get(<span class="string">'status'</span>)
    page = <span class="function">int</span>(request.args.get(<span class="string">'page'</span>, <span class="number">1</span>))
    per_page = <span class="function">int</span>(request.args.get(<span class="string">'per_page'</span>, <span class="number">50</span>))

    <span class="comment"># Build the SQL query dynamically</span>
    query = <span class="string">'SELECT * FROM library_view WHERE 1=1'</span>
    params = []

    <span class="keyword">if</span> status:
        query += <span class="string">' AND status = ?'</span>
        params.append(status)

    <span class="comment"># Add pagination</span>
    offset = (page - <span class="number">1</span>) * per_page
    query += <span class="string">' LIMIT ? OFFSET ?'</span>
    params.extend([per_page, offset])

    <span class="comment"># Execute query</span>
    cursor = db.execute(query, params)
    books = [<span class="function">dict</span>(row) <span class="keyword">for</span> row <span class="keyword">in</span> cursor.fetchall()]

    <span class="comment"># Return JSON response</span>
    <span class="keyword">return</span> jsonify({
        <span class="string">'books'</span>: books,
        <span class="string">'page'</span>: page,
        <span class="string">'total'</span>: total_count,
    })</code></pre>

        <h3>A Real Route: PATCH /api/books/&lt;id&gt;</h3>

        <p>Updating a book is more complex. We build the SQL dynamically based on what fields were sent:</p>

        <pre><code><span class="decorator">@app.route</span>(<span class="string">'/api/books/&lt;int:book_id&gt;'</span>, methods=[<span class="string">'PATCH'</span>])
<span class="decorator">@require_auth</span>
<span class="keyword">def</span> <span class="function">update_book</span>(book_id):
    db = get_db()
    data = request.get_json()  <span class="comment"># {status: "finished", my_rating: 5}</span>

    <span class="comment"># Build UPDATE query dynamically</span>
    updates = []
    params = []

    allowed_fields = [<span class="string">'status'</span>, <span class="string">'current_page'</span>, <span class="string">'my_rating'</span>, ...]
    <span class="keyword">for</span> field <span class="keyword">in</span> allowed_fields:
        <span class="keyword">if</span> field <span class="keyword">in</span> data:
            updates.append(<span class="string">f'{field} = ?'</span>)
            params.append(data[field])

    <span class="comment"># Execute: UPDATE user_books SET status = ?, my_rating = ? WHERE id = ?</span>
    query = <span class="string">f'UPDATE user_books SET {", ".join(updates)} WHERE id = ?'</span>
    params.append(user_book_id)
    db.execute(query, params)
    db.commit()

    <span class="keyword">return</span> jsonify(updated_book)</code></pre>

        <div class="callout warning">
            <div class="callout-title">Security Note: SQL Injection</div>
            <p>Notice we use <code>?</code> placeholders and pass values separately. NEVER do string formatting like <code>f"WHERE id = {book_id}"</code>—that's vulnerable to SQL injection attacks. The <code>?</code> syntax ensures values are properly escaped.</p>
        </div>

        <!-- SECTION 6: FRONTEND -->
        <h2 id="frontend">6. The Frontend (HTML/CSS/JavaScript)</h2>

        <h3>The Single HTML Page</h3>

        <p><code>index.html</code> is minimal. It's mostly a shell that JavaScript fills in:</p>

        <pre><code><span class="keyword">&lt;!DOCTYPE html&gt;</span>
<span class="keyword">&lt;html&gt;</span>
<span class="keyword">&lt;head&gt;</span>
    <span class="keyword">&lt;link</span> rel="stylesheet" href="styles.css"<span class="keyword">&gt;</span>
<span class="keyword">&lt;/head&gt;</span>
<span class="keyword">&lt;body&gt;</span>
    <span class="keyword">&lt;div</span> class="container"<span class="keyword">&gt;</span>
        <span class="keyword">&lt;nav&gt;</span>...<span class="keyword">&lt;/nav&gt;</span>

        <span class="comment">&lt;!-- This is where JavaScript renders content --&gt;</span>
        <span class="keyword">&lt;div</span> id="view-container"<span class="keyword">&gt;</span>
            <span class="keyword">&lt;div</span> class="loading"<span class="keyword">&gt;</span>Loading...<span class="keyword">&lt;/div&gt;</span>
        <span class="keyword">&lt;/div&gt;</span>
    <span class="keyword">&lt;/div&gt;</span>

    <span class="comment">&lt;!-- Load all JavaScript --&gt;</span>
    <span class="keyword">&lt;script</span> src="views/dashboard.js"<span class="keyword">&gt;&lt;/script&gt;</span>
    <span class="keyword">&lt;script</span> src="views/pipeline.js"<span class="keyword">&gt;&lt;/script&gt;</span>
    <span class="keyword">&lt;script</span> src="app.js"<span class="keyword">&gt;&lt;/script&gt;</span>
<span class="keyword">&lt;/body&gt;</span>
<span class="keyword">&lt;/html&gt;</span></code></pre>

        <h3>The API Client</h3>

        <p>In <code>app.js</code>, we define an <code>api</code> object that wraps all server communication:</p>

        <pre><code><span class="keyword">const</span> api = {
    <span class="comment">// Base method for GET requests</span>
    <span class="keyword">async</span> <span class="function">get</span>(endpoint) {
        <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="function">fetch</span>(<span class="string">`${API_BASE}${endpoint}`</span>, {
            credentials: <span class="string">'include'</span>,  <span class="comment">// Send cookies for auth</span>
        });
        <span class="keyword">if</span> (response.status === <span class="number">401</span>) {
            <span class="comment">// Not authenticated, show login</span>
            showLoginScreen();
            <span class="keyword">throw new</span> Error(<span class="string">'Authentication required'</span>);
        }
        <span class="keyword">return</span> response.json();
    },

    <span class="comment">// Convenience methods that use get/post/patch</span>
    <span class="keyword">async</span> <span class="function">getBooks</span>(params) {
        <span class="keyword">return</span> <span class="keyword">this</span>.get(<span class="string">`/books?${queryString}`</span>);
    },

    <span class="keyword">async</span> <span class="function">updateBook</span>(bookId, data) {
        <span class="keyword">return</span> <span class="keyword">this</span>.patch(<span class="string">`/books/${bookId}`</span>, data);
    },
    <span class="comment">// ... more methods</span>
};</code></pre>

        <h3>State Management</h3>

        <p>We keep all app data in a single <code>state</code> object:</p>

        <pre><code><span class="keyword">const</span> state = {
    authenticated: <span class="keyword">false</span>,
    currentView: <span class="string">'dashboard'</span>,
    books: [],
    page: <span class="number">1</span>,
    status: <span class="string">''</span>,
    search: <span class="string">''</span>,
    selectedBook: <span class="keyword">null</span>,
    <span class="comment">// ... more state</span>
};</code></pre>

        <p>When something changes, we update <code>state</code> and re-render the view. This is a simple version of what React/Vue do.</p>

        <h3>Routing (URL → View)</h3>

        <p>We use the URL hash (<code>#dashboard</code>, <code>#library</code>) for navigation:</p>

        <pre><code><span class="comment">// URL: http://localhost:5001/#dashboard</span>
<span class="comment">//                           ^^^^^^^^^^^ this is the "hash"</span>

<span class="keyword">function</span> <span class="function">getRoute</span>() {
    <span class="keyword">const</span> hash = window.location.hash.slice(<span class="number">1</span>) || <span class="string">'dashboard'</span>;
    <span class="keyword">return</span> routes[hash] || <span class="string">'dashboard'</span>;
}

<span class="comment">// Listen for hash changes</span>
window.addEventListener(<span class="string">'hashchange'</span>, handleRouteChange);

<span class="keyword">function</span> <span class="function">handleRouteChange</span>() {
    state.currentView = getRoute();
    renderView();  <span class="comment">// Re-render based on new route</span>
}</code></pre>

        <h3>Rendering Views</h3>

        <p>Each view is a function that fetches data and generates HTML:</p>

        <pre><code><span class="comment">// In views/dashboard.js</span>
<span class="keyword">async function</span> <span class="function">renderDashboard</span>(container) {
    <span class="comment">// Show loading state</span>
    container.innerHTML = <span class="string">'&lt;div class="loading"&gt;Loading...&lt;/div&gt;'</span>;

    <span class="comment">// Fetch data from server</span>
    <span class="keyword">const</span> data = <span class="keyword">await</span> api.getDashboard();

    <span class="comment">// Generate HTML string</span>
    container.innerHTML = <span class="string">`
        &lt;section class="dashboard-section"&gt;
            &lt;h2&gt;Currently Reading&lt;/h2&gt;
            &lt;div class="reading-row"&gt;
                ${data.currently_reading.map(book => `
                    &lt;div class="reading-card" data-book-id="${book.book_id}"&gt;
                        &lt;div class="book-title"&gt;${book.title}&lt;/div&gt;
                        &lt;div class="progress"&gt;${book.progress_percent}%&lt;/div&gt;
                    &lt;/div&gt;
                `).join('')}
            &lt;/div&gt;
        &lt;/section&gt;
    `</span>;

    <span class="comment">// Add click handlers</span>
    container.querySelectorAll(<span class="string">'[data-book-id]'</span>).forEach(card => {
        card.addEventListener(<span class="string">'click'</span>, () => {
            showBookDetail(card.dataset.bookId);
        });
    });
}</code></pre>

        <div class="callout">
            <div class="callout-title">Template Literals</div>
            <p>The <code>`backtick strings`</code> in JavaScript are "template literals." They allow:</p>
            <ul>
                <li>Multi-line strings</li>
                <li>Variable interpolation: <code>${variable}</code></li>
                <li>Expression evaluation: <code>${books.length > 0 ? 'Yes' : 'No'}</code></li>
            </ul>
        </div>

        <h3>The Modal Pattern</h3>

        <p>We have one modal in the HTML. JavaScript fills it with different content:</p>

        <pre><code><span class="keyword">function</span> <span class="function">showModal</span>(title, content) {
    document.getElementById(<span class="string">'modal-title'</span>).textContent = title;
    document.getElementById(<span class="string">'modal-body'</span>).innerHTML = content;
    document.getElementById(<span class="string">'modal-overlay'</span>).classList.add(<span class="string">'active'</span>);
}

<span class="keyword">function</span> <span class="function">hideModal</span>() {
    document.getElementById(<span class="string">'modal-overlay'</span>).classList.remove(<span class="string">'active'</span>);
}

<span class="comment">// Usage</span>
showModal(<span class="string">'Book Details'</span>, <span class="string">`&lt;h2&gt;${book.title}&lt;/h2&gt;&lt;p&gt;${book.author}&lt;/p&gt;`</span>);</code></pre>

        <!-- SECTION 7: DATA FLOW -->
        <h2 id="data-flow">7. Data Flow: A Complete Example</h2>

        <p>Let's trace what happens when you click a book card to view its details:</p>

        <div class="diagram">
            <pre>
┌─────────────────────────────────────────────────────────────────────┐
│  1. USER CLICKS BOOK CARD                                           │
│     Event handler fires: onclick="showBookDetail(42)"               │
└────────────────────────────────┬────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────┐
│  2. JAVASCRIPT SENDS API REQUEST                                    │
│     api.getBook(42)                                                 │
│     → fetch('http://localhost:5001/api/books/42')                   │
└────────────────────────────────┬────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────┐
│  3. FLASK RECEIVES REQUEST                                          │
│     @app.route('/api/books/<int:book_id>')                          │
│     def get_book(book_id):  # book_id = 42                          │
└────────────────────────────────┬────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────┐
│  4. PYTHON QUERIES DATABASE                                         │
│     cursor = db.execute(                                            │
│         'SELECT * FROM library_view WHERE book_id = ?',             │
│         (42,)                                                       │
│     )                                                               │
└────────────────────────────────┬────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────┐
│  5. SQLITE RETURNS DATA                                             │
│     {book_id: 42, title: "Dune", author: "Frank Herbert", ...}     │
└────────────────────────────────┬────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────┐
│  6. FLASK RETURNS JSON RESPONSE                                     │
│     return jsonify(book_dict)                                       │
│     → {"book_id": 42, "title": "Dune", ...}                        │
└────────────────────────────────┬────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────┐
│  7. JAVASCRIPT RECEIVES RESPONSE                                    │
│     const book = await api.getBook(42);                             │
│     // book = {book_id: 42, title: "Dune", ...}                    │
└────────────────────────────────┬────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────┐
│  8. JAVASCRIPT UPDATES DOM                                          │
│     showModal('Dune', `<div class="book-detail">...`);             │
│     → Modal appears with book details                               │
└─────────────────────────────────────────────────────────────────────┘
            </pre>
        </div>

        <h3>The Same Flow in Code</h3>

        <pre><code><span class="comment">// STEP 1 & 2: User clicks, JS sends request</span>
<span class="keyword">async function</span> <span class="function">showBookDetail</span>(bookId) {
    <span class="keyword">const</span> book = <span class="keyword">await</span> api.getBook(bookId);  <span class="comment">// Steps 2-7 happen here</span>

    <span class="comment">// STEP 8: Update the DOM</span>
    showModal(book.title, <span class="string">`
        &lt;div class="book-detail"&gt;
            &lt;h2&gt;${book.title}&lt;/h2&gt;
            &lt;p&gt;by ${book.author}&lt;/p&gt;
            &lt;p&gt;Status: ${book.status}&lt;/p&gt;
        &lt;/div&gt;
    `</span>);
}</code></pre>

        <pre><code><span class="comment"># STEPS 3-6: Flask handles the request (in app.py)</span>
<span class="decorator">@app.route</span>(<span class="string">'/api/books/&lt;int:book_id&gt;'</span>)
<span class="decorator">@require_auth</span>
<span class="keyword">def</span> <span class="function">get_book</span>(book_id):
    db = get_db()

    <span class="comment"># STEP 4: Query database</span>
    cursor = db.execute(
        <span class="string">'SELECT * FROM library_view WHERE book_id = ?'</span>,
        (book_id,)
    )
    book = cursor.fetchone()

    <span class="comment"># STEP 6: Return JSON</span>
    <span class="keyword">return</span> jsonify(dict_from_row(book))</code></pre>

        <!-- SECTION 8: AUTHENTICATION -->
        <h2 id="authentication">8. Authentication System</h2>

        <p>Our auth is simple: one password stored in an environment variable.</p>

        <h3>How Sessions Work</h3>

        <div class="diagram">
            <pre>
┌──────────────────────────────────────────────────────────────────────┐
│                        AUTHENTICATION FLOW                           │
├──────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  1. User enters password                                              │
│     ┌──────────────┐                                                 │
│     │  Password:   │                                                 │
│     │  [••••••••]  │                                                 │
│     │  [Sign In]   │                                                 │
│     └──────────────┘                                                 │
│            │                                                          │
│            ▼                                                          │
│  2. Browser sends: POST /api/auth/login {password: "secret"}         │
│            │                                                          │
│            ▼                                                          │
│  3. Flask checks: password == os.environ.get('APP_PASSWORD')         │
│            │                                                          │
│     ┌──────┴──────┐                                                  │
│     │             │                                                  │
│   Match?        No Match                                             │
│     │             │                                                  │
│     ▼             ▼                                                  │
│  session['authenticated'] = True    return 401 Unauthorized          │
│     │                                                                │
│     ▼                                                                │
│  4. Flask sets cookie: session=abc123...                             │
│     (encrypted, contains {authenticated: true})                      │
│            │                                                          │
│            ▼                                                          │
│  5. Browser stores cookie, sends it with every future request        │
│            │                                                          │
│            ▼                                                          │
│  6. @require_auth decorator checks session['authenticated']          │
│                                                                       │
└──────────────────────────────────────────────────────────────────────┘
            </pre>
        </div>

        <h3>The @require_auth Decorator</h3>

        <p>A decorator is a function that wraps another function. Ours checks authentication before running the route:</p>

        <pre><code><span class="keyword">def</span> <span class="function">require_auth</span>(f):
    <span class="string">"""Decorator to require authentication for API routes."""</span>
    <span class="decorator">@wraps</span>(f)  <span class="comment"># Preserves function metadata</span>
    <span class="keyword">def</span> <span class="function">decorated_function</span>(*args, **kwargs):
        app_password = os.environ.get(<span class="string">'APP_PASSWORD'</span>)

        <span class="comment"># If no password is set, allow access (development mode)</span>
        <span class="keyword">if not</span> app_password:
            <span class="keyword">return</span> f(*args, **kwargs)

        <span class="comment"># Check if authenticated</span>
        <span class="keyword">if not</span> session.get(<span class="string">'authenticated'</span>):
            <span class="keyword">return</span> jsonify({<span class="string">'error'</span>: <span class="string">'Authentication required'</span>}), <span class="number">401</span>

        <span class="comment"># User is authenticated, run the actual function</span>
        <span class="keyword">return</span> f(*args, **kwargs)

    <span class="keyword">return</span> decorated_function

<span class="comment"># Usage: just add @require_auth before a route</span>
<span class="decorator">@app.route</span>(<span class="string">'/api/books'</span>)
<span class="decorator">@require_auth</span>  <span class="comment"># ← This runs first</span>
<span class="keyword">def</span> <span class="function">get_books</span>():
    ...  <span class="comment"># ← This only runs if authenticated</span></code></pre>

        <div class="callout">
            <div class="callout-title">Environment Variables</div>
            <p>We never hardcode passwords. <code>APP_PASSWORD</code> is set in the environment:</p>
            <pre><code># Local development
export APP_PASSWORD="mysecret"
python backend/app.py

# Railway deployment
# Set in Railway dashboard → Variables</code></pre>
        </div>

        <!-- SECTION 9: TROUBLESHOOTING -->
        <h2 id="troubleshooting">9. Troubleshooting Guide</h2>

        <h3>Problem: "Failed to load" errors in the browser</h3>

        <p><strong>Diagnosis:</strong> Open browser DevTools (F12) → Network tab. Look for red requests.</p>

        <ul>
            <li><strong>404 Not Found:</strong> The URL is wrong. Check the endpoint path in <code>app.py</code>.</li>
            <li><strong>401 Unauthorized:</strong> Not logged in. Check if <code>APP_PASSWORD</code> is set.</li>
            <li><strong>500 Internal Server Error:</strong> Python crashed. Check the terminal where Flask is running.</li>
            <li><strong>Failed to fetch:</strong> Server isn't running. Start it with <code>python backend/app.py</code>.</li>
        </ul>

        <h3>Problem: Data isn't saving</h3>

        <p><strong>Diagnosis:</strong> Check DevTools → Network tab. Is the request being sent? What's the response?</p>

        <ul>
            <li><strong>Request not sent:</strong> JavaScript error. Check DevTools → Console.</li>
            <li><strong>Request sent but error returned:</strong> Read the error message in the response.</li>
            <li><strong>Request succeeds but data doesn't appear:</strong> View isn't re-rendering. Add <code>renderView()</code> after the API call.</li>
        </ul>

        <h3>Problem: Database is empty or corrupted</h3>

        <pre><code><span class="comment"># Delete the database and restart (it will be recreated from schema.sql)</span>
rm backend/books.db
python backend/app.py</code></pre>

        <h3>Problem: Changes to schema.sql aren't taking effect</h3>

        <p>SQLite doesn't auto-migrate. Either:</p>
        <ol>
            <li>Run the migration script: <code>python backend/migrate_v1.py</code></li>
            <li>Delete the database and start fresh (loses data)</li>
        </ol>

        <h3>Debugging Python Code</h3>

        <pre><code><span class="comment"># Add print statements to see what's happening</span>
<span class="decorator">@app.route</span>(<span class="string">'/api/books/&lt;int:book_id&gt;'</span>)
<span class="keyword">def</span> <span class="function">get_book</span>(book_id):
    <span class="function">print</span>(<span class="string">f"Getting book {book_id}"</span>)  <span class="comment"># Shows in terminal</span>

    cursor = db.execute(...)
    book = cursor.fetchone()

    <span class="function">print</span>(<span class="string">f"Found: {book}"</span>)  <span class="comment"># See what was fetched</span>
    ...
</code></pre>

        <h3>Debugging JavaScript Code</h3>

        <pre><code><span class="comment">// Add console.log to see what's happening</span>
<span class="keyword">async function</span> <span class="function">showBookDetail</span>(bookId) {
    console.log(<span class="string">'Fetching book:'</span>, bookId);  <span class="comment">// Shows in DevTools Console</span>

    <span class="keyword">const</span> book = <span class="keyword">await</span> api.getBook(bookId);

    console.log(<span class="string">'Got book:'</span>, book);  <span class="comment">// See the full object</span>
    ...
}</code></pre>

        <h3>Common JavaScript Gotchas</h3>

        <pre><code><span class="comment">// WRONG: Forgetting await</span>
<span class="keyword">const</span> book = api.getBook(<span class="number">42</span>);  <span class="comment">// book is a Promise, not data!</span>

<span class="comment">// RIGHT: Use await</span>
<span class="keyword">const</span> book = <span class="keyword">await</span> api.getBook(<span class="number">42</span>);  <span class="comment">// book is the actual data</span>

<span class="comment">// WRONG: Using await outside async function</span>
<span class="keyword">function</span> <span class="function">loadData</span>() {
    <span class="keyword">const</span> data = <span class="keyword">await</span> api.getBooks();  <span class="comment">// SyntaxError!</span>
}

<span class="comment">// RIGHT: Mark function as async</span>
<span class="keyword">async function</span> <span class="function">loadData</span>() {
    <span class="keyword">const</span> data = <span class="keyword">await</span> api.getBooks();  <span class="comment">// Works!</span>
}</code></pre>

        <!-- SECTION 10: GLOSSARY -->
        <h2 id="glossary">10. Glossary</h2>

        <table>
            <tr>
                <th>Term</th>
                <th>Definition</th>
            </tr>
            <tr>
                <td><strong>API</strong></td>
                <td>Application Programming Interface. The set of URLs your server responds to.</td>
            </tr>
            <tr>
                <td><strong>Async/Await</strong></td>
                <td>JavaScript syntax for handling operations that take time (like network requests). <code>await</code> pauses until the operation completes.</td>
            </tr>
            <tr>
                <td><strong>Cookie</strong></td>
                <td>Small piece of data stored in the browser. Sent with every request to the same server.</td>
            </tr>
            <tr>
                <td><strong>CRUD</strong></td>
                <td>Create, Read, Update, Delete. The four basic database operations.</td>
            </tr>
            <tr>
                <td><strong>Decorator</strong></td>
                <td>In Python, a function that wraps another function to add behavior. Syntax: <code>@decorator_name</code></td>
            </tr>
            <tr>
                <td><strong>DOM</strong></td>
                <td>Document Object Model. The browser's representation of the HTML page that JavaScript can manipulate.</td>
            </tr>
            <tr>
                <td><strong>Endpoint</strong></td>
                <td>A specific URL that the server responds to. e.g., <code>/api/books</code></td>
            </tr>
            <tr>
                <td><strong>Environment Variable</strong></td>
                <td>A variable set outside your code, in the system. Used for secrets and configuration.</td>
            </tr>
            <tr>
                <td><strong>Fetch</strong></td>
                <td>Browser API for making HTTP requests from JavaScript.</td>
            </tr>
            <tr>
                <td><strong>Flask</strong></td>
                <td>A Python micro-framework for building web servers.</td>
            </tr>
            <tr>
                <td><strong>JSON</strong></td>
                <td>JavaScript Object Notation. A text format for structured data: <code>{"key": "value"}</code></td>
            </tr>
            <tr>
                <td><strong>Migration</strong></td>
                <td>Code that modifies a database schema (adds columns, tables, etc.) without losing data.</td>
            </tr>
            <tr>
                <td><strong>Query Parameter</strong></td>
                <td>Data passed in the URL after <code>?</code>. e.g., <code>/api/books?status=reading&page=2</code></td>
            </tr>
            <tr>
                <td><strong>Route</strong></td>
                <td>A URL pattern that maps to a function. Defined with <code>@app.route()</code></td>
            </tr>
            <tr>
                <td><strong>Session</strong></td>
                <td>Server-side storage of user data (like "logged in" status) across requests.</td>
            </tr>
            <tr>
                <td><strong>SPA</strong></td>
                <td>Single Page Application. A web app that loads one HTML page and updates it with JavaScript.</td>
            </tr>
            <tr>
                <td><strong>SQL</strong></td>
                <td>Structured Query Language. The language for interacting with databases.</td>
            </tr>
            <tr>
                <td><strong>SQLite</strong></td>
                <td>A database that stores everything in a single file. No server required.</td>
            </tr>
            <tr>
                <td><strong>View (SQL)</strong></td>
                <td>A saved query that acts like a virtual table. Our <code>library_view</code> joins books + user_books.</td>
            </tr>
        </table>

        <div class="callout success" style="margin-top: 60px;">
            <div class="callout-title">You Made It!</div>
            <p>You now understand how Book Tracker works from top to bottom. The best way to cement this knowledge is to:</p>
            <ol>
                <li>Run the app locally and use DevTools to watch requests</li>
                <li>Add a <code>console.log</code> or <code>print()</code> and trace a complete request</li>
                <li>Make a small change—add a field, modify a query—and see it work</li>
            </ol>
            <p style="margin-bottom: 0;">Happy hacking!</p>
        </div>

        <p style="margin-top: 60px; color: var(--text-muted); text-align: center;">
            Generated for Book Tracker v1 • Open this file in any browser
        </p>
    </div>
</body>
</html>
